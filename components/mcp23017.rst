MCP23017 I/O Expander
====================

.. seo::
    :description: Instructions for setting up PCA8574 digital port expanders in esphomelib.
    :image: MCP23017.jpg
    :keywords: Xiaomi, Mi Flora, BLE, Bluetooth

The MCP23017 component allows you to use MCP23017
(`datasheet <http://ww1.microchip.com/downloads/en/DeviceDoc/20001952C.pdf>`)
 in esphomeyaml. It uses :ref:`I²C Bus <i2c>` for communication.

Once configured, you can use any of the 16 pins.  Within esphomelib they
emulate a real internal GPIO pin and can therefore be used with many of
esphomelib's components such as the GPIO binary sensor or GPIO switch.

Any option accepting a :ref:`Pin Schema <config-pin_schema>` can theoretically be used, but some more
complicated components that do communication through this I/O expander will
not work.

.. figure:: images/MCP23017-full.jpg
    :align: center
    :width: 80.0%

.. code-block:: yaml

    # Example configuration entry
    MCP23017:
      - id: 'MCP23017_hub'
        address: 0x20

    # Individual outputs
    switch:
      - platform: gpio
        name: "MCP23017 Pin #0"
        pin:
          MCP23017: MCP23017_hub
          # Use pin number 0
          number: 0
          # One of INPUT, INPUT_PULLUP or OUTPUT
          mode: OUTPUT
          inverted: False

Configuration variables:
~~~~~~~~~~~~~~~~~~~~~~~~

- **id** (**Required**, :ref:`config-id`): The id to use for this MCP23017 component.
- **address** (*Optional*, int): The I²C address of the driver.
  Defaults to ``0x20``.

See Also
--------

- :ref:`i2c`
- :doc:`switch/gpio`
- :doc:`binary_sensor/gpio`
- :apiref:`io/MCP23017_component.h`
- :ghedit:`Edit`

.. disqus::
